# SONAR Backend Environment Variables
# Copy this file to .env and fill in your actual values
# For Railway deployment, set these as environment variables in the Railway dashboard
#
# NOTE: Many variables are shared across services. See the root /.env.example for
# shared variables like DATABASE_URL, WALRUS_*, SEAL_*, SUI_*, CORS_ORIGIN, etc.
# Set shared variables at the PROJECT level in Railway for all services to use.

# =============================================================================
# REQUIRED - Service will not start without these
# =============================================================================

# Server Configuration
NODE_ENV=development
PORT=3001

# Database (Railway auto-provides when Postgres is linked)
# Shared variable - see root /.env.example
DATABASE_URL=postgresql://user:password@host:port/database

# Authentication
# Shared variable - see root /.env.example
JWT_SECRET=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
JWT_EXPIRES_IN=24h

# Admin API Key (for monitoring endpoints)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ADMIN_API_KEY=your_secure_random_admin_key_here

# Sui Blockchain
# Shared variables - see root /.env.example
SUI_RPC_URL=https://fullnode.mainnet.sui.io:443
SONAR_PACKAGE_ID=0x0210ab6cfe74c5dab23b1a0a0b588a9d61575e0231e4b09b8e19071abe1434f7
SONAR_MARKETPLACE_ID=0x0000000000000000000000000000000000000000000000000000000000000000

# Walrus Storage
# Shared variables - see root /.env.example
WALRUS_AGGREGATOR_URL=https://aggregator.walrus.space
WALRUS_PUBLISHER_URL=https://publisher.walrus.space
NEXT_PUBLIC_WALRUS_PUBLISHER_URL=https://publisher.walrus.space
NEXT_PUBLIC_WALRUS_AGGREGATOR_URL=https://aggregator.walrus.space

# Seal Network
# Shared variables - see root /.env.example
SEAL_NETWORK_URL=https://seal.testnet.mysten.com

# CORS Configuration
# Shared variable - see root /.env.example
CORS_ORIGIN=http://localhost:3000,http://localhost:3001

# =============================================================================
# OPTIONAL - Service-specific configuration
# =============================================================================

# Logging
LOG_LEVEL=info

# Mock Modes (for testing without external services)
MOCK_WALRUS=false
MOCK_SEAL=false

# Walrus Rate Limiting (optional, defaults provided)
WALRUS_AGG_MAX_RPS=5
WALRUS_AGG_BURST=5
WALRUS_AGG_MAX_CONCURRENT=3
WALRUS_AGG_TIMEOUT=30000
WALRUS_PUB_MAX_RPS=1
WALRUS_PUB_BURST=2
WALRUS_PUB_MAX_CONCURRENT=1
WALRUS_PUB_TIMEOUT=60000

# Observability (optional)
SENTRY_DSN=
